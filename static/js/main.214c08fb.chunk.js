(this.webpackJsonpclock=this.webpackJsonpclock||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},33:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var i,c=n(11),s=n.n(c),o=n(16),r=n(1),a=n(0),l=n.n(a),u=n(7),d=n.n(u),h=(n(25),n(26),n(18)),b=(n(27),n(8));!function(e){e[e.started=0]="started",e[e.paused=1]="paused",e[e.reset=2]="reset"}(i||(i={}));var g,f={sessionLength:25,breakLength:5,counting:i.reset},j=Object(b.b)({name:"root",initialState:f,reducers:{start:function(e){e.counting=i.started},pause:function(e){e.counting=i.paused},reset:function(e){e.counting=i.reset,e.breakLength=f.breakLength,e.sessionLength=f.sessionLength},incrementSessionLength:function(e){e.counting!==i.started&&60!==e.sessionLength&&e.sessionLength++},decrementSessionLength:function(e){e.counting!==i.started&&1!==e.sessionLength&&e.sessionLength--},incrementBreakLength:function(e){e.counting!==i.started&&60!==e.breakLength&&e.breakLength++},decrementBreakLength:function(e){e.counting!==i.started&&1!==e.breakLength&&e.breakLength--}}}),v=j.actions,m=v.start,O=v.pause,L=v.reset,k=v.incrementSessionLength,p=v.decrementSessionLength,x=v.incrementBreakLength,w=v.decrementBreakLength,C=j.reducer,S=Object(b.a)({reducer:C}),P=function(e){return y/100*e},E=function(e,t){if(null!=e){e.clearRect(0,0,y,y),e.save(),e.translate(y/2,y/2),e.rotate(2*-Math.PI*t),e.translate(-y/2,-y/2),e.shadowColor="transparent";var n=P(2),i="rgb(211, 105, 190)",c=y/2,s=P(15);e.beginPath(),e.arc(c,s,n,0,2*Math.PI),e.fillStyle=i,e.fill(),e.beginPath();var o=e.createLinearGradient(c-n,s,c+n,s);o.addColorStop(0,i),o.addColorStop(.5,i),o.addColorStop(1,"rgb(209, 133, 194)"),e.fillStyle=o,e.arc(c,s,n,0,2*Math.PI),e.fill(),e.restore()}},T=n.p+"static/media/beep.a21d0d20.mp3",y=300,I="#222326";!function(e){e[e.session=0]="session",e[e.break=1]="break"}(g||(g={}));var B,N=function(e){return 60*e*1e3},M=function(e){var t=Math.floor(e/1e3/60);e-=60*t*1e3;var n=Math.floor(e/1e3);e-=1e3*n;var i=("0"+t).slice(-2),c=("0"+n).slice(-2);return"".concat(i,":").concat(c)},A=N(S.getState().sessionLength),R=N(S.getState().breakLength),F=N(S.getState().sessionLength),D=N(S.getState().sessionLength),G=g.session,H=S.getState().counting,U=function(){var e=Object(a.useState)(1),t=Object(h.a)(e,2)[1];Object(a.useEffect)((function(){var e,o;S.subscribe((function(){var e=S.getState();e.counting===i.reset?(s.current&&(s.current.pause(),s.current.currentTime=0),A=F=D=N(e.sessionLength),R=N(e.breakLength),t(F)):e.counting===i.paused&&(N(e.breakLength)!==R&&(R=N(e.breakLength),G===g.break&&(D=F=R)),N(e.sessionLength)!==A&&(A=N(e.sessionLength),G===g.session&&(D=F=A)),t(F)),e.counting!==H&&(e.counting===i.started?B=setInterval((function(){var n;(F-=10)<=0&&(null===(n=s.current)||void 0===n||n.play().catch((function(e){return console.log(e)})),G===g.session?(G=g.break,F=D=N(e.breakLength)):(G=g.session,F=D=N(e.sessionLength)));t(F)}),10):B&&clearInterval(B),H=e.counting)}));var r=null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.getContext("2d");null!=r&&(function(e){e.moveTo(y/2,y/2);var t=function(t){var n=-P(.5),i=P(2),c=function(t){e.arc(y/2,y/2,P(t),0,2*Math.PI)};e.shadowBlur=15,e.fillStyle=I,e.beginPath(),e.shadowOffsetX=e.shadowOffsetY=i,e.shadowColor="rgba(0, 0, 0, 0.8)",c(t),e.fill(),e.beginPath(),e.shadowOffsetX=e.shadowOffsetY=n,e.shadowColor="rgba(255, 255, 255, 0.2)",c(t),e.fill()};t(45),t(35),e.beginPath(),e.arc(y/2,y/2,P(25),0,2*Math.PI),e.fillStyle="#161719",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor="rgba(0,0,0,0.5)",e.shadowBlur=5,e.fill()}(r),function(e){e.beginPath(),e.strokeStyle="rgba(255, 255, 255, 0.5)";for(var t=P(9),n=P(2),i=2*Math.PI/100,c=0;c<100;c++)e.moveTo(y/2,t),e.lineTo(y/2,t+n),e.translate(y/2,y/2),e.rotate(i),e.translate(-y/2,-y/2);e.stroke()}(r));var a=null===(o=c.current)||void 0===o?void 0:o.getContext("2d");null!=a&&E(a,0)}),[]),Object(a.useEffect)((function(){var e,t=null===(e=c.current)||void 0===e?void 0:e.getContext("2d");null!=t&&E(t,F/D)}));var n=Object(a.useRef)(null),c=Object(a.useRef)(null),s=Object(a.useRef)(null);return Object(r.jsxs)("div",{id:"clock-container",children:[Object(r.jsx)("canvas",{ref:n,id:"clock",width:"".concat(y,"px"),height:"".concat(y,"px")}),Object(r.jsx)("span",{id:"time-left",children:M(F)}),Object(r.jsx)("canvas",{ref:c,id:"pointer",width:"".concat(y,"px"),height:"".concat(y,"px")}),Object(r.jsx)("span",{id:"timer-label",children:G===g.session?"session":"break"}),Object(r.jsx)("audio",{id:"beep",ref:s,children:Object(r.jsx)("source",{src:T,type:"audio/mp3"})})]})},X=(n(29),n(4)),Y=function(e){var t=e.id,n=e.label,i=e.color,c=void 0===i?"white":i,s=e.active,o=void 0!==s&&s,a=e.onClick;return Object(r.jsx)("button",{id:t,style:{color:c},className:"nice-button ".concat(o?"active":""),onClick:a,children:n})},J=function(){var e=Object(X.d)((function(e){return e.counting})),t=Object(X.c)();return Object(r.jsxs)("div",{id:"buttons",children:[Object(r.jsx)(Y,{id:"start_stop",label:"START",color:"#7A63FC",active:e===i.started,onClick:function(){e===i.started?t(O()):t(m())}}),Object(r.jsx)(Y,{id:"reset",label:"RESET",color:"#E44B4C",onClick:function(){t(L())}})]})},z=(n(33),n(14)),K=n(15),W=function(e){return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("div",{id:e.id+"-label",className:"title",children:e.title}),Object(r.jsx)("div",{id:e.id+"-length",className:"subtitle",children:e.subtitle}),Object(r.jsxs)("div",{className:"card-buttons",children:[Object(r.jsx)(z.a,{id:e.id+"-increment",className:"card-button",icon:K.b,onClick:e.onClickUp}),Object(r.jsx)(z.a,{id:e.id+"-decrement",className:"card-button",icon:K.a,onClick:e.onClickDown})]})]})},_=function(){var e=Object(X.d)((function(e){return{breakLength:e.breakLength,sessionLength:e.sessionLength}}),X.b),t=e.breakLength,n=e.sessionLength,i=Object(X.c)();return Object(r.jsxs)("div",{id:"cards",children:[Object(r.jsx)(W,{id:"break",title:"BREAK LENGTH",subtitle:"".concat(t),onClickDown:function(){i(w())},onClickUp:function(){i(x())}}),Object(r.jsx)(W,{id:"session",title:"SESSION LENGTH",subtitle:"".concat(n),onClickDown:function(){i(p())},onClickUp:function(){i(k())}})]})};var q=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(U,{}),Object(r.jsx)(_,{}),Object(r.jsx)(J,{}),Object(r.jsx)("div",{id:"font-loader",children:"."})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),s(e),o(e)}))};d.a.render(Object(r.jsx)(l.a.StrictMode,{children:Object(r.jsx)(X.a,{store:S,children:Object(r.jsx)(q,{})})}),document.getElementById("root"));var V=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.documentElement,n=t.clientHeight,i=window.innerWidth,console.log(i,n),c=n/100,t.style.setProperty("--vh","".concat(c,"px")),console.log(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();window.addEventListener("resize",V),V();window.onload=function(){var e,t=document.getElementById("viewport");null!=t&&navigator.userAgent.match(/iPhone/i)&&(t.setAttribute("content","width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0"),window.addEventListener("gesturestart",(function(){clearTimeout(e),t.setAttribute("content","width=device-width,minimum-scale=1.0,maximum-scale=10.0")}),!1),window.addEventListener("touchend",(function(){clearTimeout(e),e=setTimeout((function(){t.setAttribute("content","width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0")}),1e3)}),!1))},Q()}},[[37,1,2]]]);
//# sourceMappingURL=main.214c08fb.chunk.js.map